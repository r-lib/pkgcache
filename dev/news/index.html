<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Changelog • pkgcache</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Source_Sans_Pro-0.4.9/font.css" rel="stylesheet"><link href="../deps/Source_Code_Pro-0.4.9/font.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Changelog"><meta name="robots" content="noindex"><script defer data-domain="r-lib.github.io/pkgcache,all.tidyverse.org" src="https://plausible.io/js/plausible.js"></script></head><body>
    <a href="#container" class="visually-hidden-focusable">Skip to content</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-none" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">pkgcache</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="In-development version">2.2.3.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/internals.html">pkgcache internals</a></li>
    <li><a class="dropdown-item" href="../articles/ppm.html">pkgcache and Posit Package Manager on Linux</a></li>
  </ul></li>
<li class="active nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/r-lib/pkgcache/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-news" id="container">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Changelog</h1>
      <small>Source: <a href="https://github.com/r-lib/pkgcache/blob/main/NEWS.md" class="external-link"><code>NEWS.md</code></a></small>
    </div>

    <div class="section level2">
<h2 class="pkg-version" data-toc-text="development version" id="pkgcache-development-version">pkgcache (development version)<a class="anchor" aria-label="anchor" href="#pkgcache-development-version"></a></h2>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.2.3" id="pkgcache-223">pkgcache 2.2.3<a class="anchor" aria-label="anchor" href="#pkgcache-223"></a></h2><p class="text-muted">CRAN release: 2024-09-12</p>
<ul><li><p>The metadata cache now does not use source URLs for packages in <code>Archive</code> on Posit Package Manager repositories. This URLs may serve a different package, even a source package when the main URL for the same package serves a binary package. The alternative URLs are not needed on PPM, anyway, because PPM is in a consistent state w.r.t. metadata and package files (<a href="https://github.com/r-lib/pak/issues/623" class="external-link uri">https://github.com/r-lib/pak/issues/623</a>).</p></li>
<li><p><code><a href="../reference/parse_packages.html">parse_packages()</a></code> now does not throw a warning for empty <code>PACKAGES*</code> files (<a href="https://github.com/r-lib/pkgcache/issues/107" class="external-link">#107</a>).</p></li>
<li><p><code>repo_set()</code> and the <code>ppm_*()</code> functions, e.g. <code><a href="../reference/ppm_snapshots.html">ppm_snapshots()</a></code>, now work again after the PPM API changes (<a href="https://github.com/r-lib/pkgcache/issues/110" class="external-link">#110</a>, <a href="https://github.com/r-lib/pkgcache/issues/115" class="external-link">#115</a>).</p></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.2.2" id="pkgcache-222">pkgcache 2.2.2<a class="anchor" aria-label="anchor" href="#pkgcache-222"></a></h2><p class="text-muted">CRAN release: 2024-04-04</p>
<ul><li>pkgcache now treats R 4.5.x (current R-devel) macOS binaries correctly. It is also more robust to changes the in macOS platform.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.2.1" id="pkgcache-221">pkgcache 2.2.1<a class="anchor" aria-label="anchor" href="#pkgcache-221"></a></h2><p class="text-muted">CRAN release: 2023-12-10</p>
<ul><li>pkgcache now does a better job when matching the R version to a Bioconductor version.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.2.0" id="pkgcache-220">pkgcache 2.2.0<a class="anchor" aria-label="anchor" href="#pkgcache-220"></a></h2><p class="text-muted">CRAN release: 2023-07-18</p>
<ul><li><p>New <code>pkg.current_platform</code> option and <code>PKG_CURRENT_PLATFORM</code> environment variable to override the detected platform.</p></li>
<li><p>In <code><a href="../reference/repo_get.html">repo_add()</a></code> and <code><a href="../reference/repo_get.html">repo_resolve()</a></code> the <code>MRAN@</code> prefix is now deprecated and resolves to PPM, because MRAN will be retired soon. See more at <a href="https://posit.co/blog/migrating-from-mran-to-posit-package-manager/" class="external-link uri">https://posit.co/blog/migrating-from-mran-to-posit-package-manager/</a>.</p></li>
<li><p>The metadata cache now has <code>SystemRequirements</code> information for Bioconductor packages.</p></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.1.1" id="pkgcache-211">pkgcache 2.1.1<a class="anchor" aria-label="anchor" href="#pkgcache-211"></a></h2><p class="text-muted">CRAN release: 2023-06-14</p>
<ul><li><p><code><a href="../reference/parse_installed.html">parse_installed()</a></code> now has a <code>packages</code> argument, to list only a subset of all packages.</p></li>
<li><p><code><a href="../reference/parse_packages.html">parse_packages()</a></code> can now parse <code>PACKAGES</code> files with trailing whitespace (<a href="https://github.com/r-lib/pkgcache/issues/93" class="external-link">#93</a>).</p></li>
<li><p>The Bioconductor repositories now include the ‘books’ repository, available since Bioconductor 3.12.</p></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.1.0" id="pkgcache-210">pkgcache 2.1.0<a class="anchor" aria-label="anchor" href="#pkgcache-210"></a></h2><p class="text-muted">CRAN release: 2023-04-18</p>
<ul><li><p>pkgcache now supports binary packages on x86_64 macOS and R 4.3.0 and later (<a href="https://github.com/r-lib/pkgcache/issues/89" class="external-link">#89</a>).</p></li>
<li><p>Better Posit Package Manager (PPM) support. New <code><a href="../reference/ppm_has_binaries.html">ppm_has_binaries()</a></code>, <code><a href="../reference/ppm_r_versions.html">ppm_r_versions()</a></code>, <code><a href="../reference/ppm_repo_url.html">ppm_repo_url()</a></code>, <code><a href="../reference/ppm_snapshots.html">ppm_snapshots()</a></code> and <code><a href="../reference/ppm_platforms.html">ppm_platforms()</a></code> functions to help interacting with PPM. See the new ‘pkgcache and Posit Package Manager on Linux’ article at <a href="https://r-lib.github.io/pkgcache" class="uri">https://r-lib.github.io/pkgcache</a>. (<a href="https://github.com/r-lib/pkgcache/issues/47" class="external-link">#47</a> and r-lib/pkgdepends#186).</p></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.0.4" id="pkgcache-204">pkgcache 2.0.4<a class="anchor" aria-label="anchor" href="#pkgcache-204"></a></h2><p class="text-muted">CRAN release: 2022-12-16</p>
<ul><li>Update R version -&gt; Bioconductor version mapping. R 4.2.x now maps to Bioconductor 3.16.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.0.3" id="pkgcache-203">pkgcache 2.0.3<a class="anchor" aria-label="anchor" href="#pkgcache-203"></a></h2><p class="text-muted">CRAN release: 2022-10-26</p>
<ul><li><p>The <code>built</code> and <code>sysreqs</code> columns of the metadata case are always character vectors now, and not logicals, as it used to be in some edges cases in the past.</p></li>
<li><p>The <code>deps</code> column of the metadata cache is not a tibble any more, but a data frame with a <code>tbl</code> class, as it should be.</p></li>
<li><p><code>cran_archive_*()</code> functions now only download the metadata if it is newer than what you have currently.</p></li>
<li><p><code><a href="../reference/cran_archive_list.html">cran_archive_cleanup()</a></code> now does not ignore the <code>force</code> argument.</p></li>
<li><p>The <code>sources</code> column in the metadata cache now has the correct URL for packages in the CRAN archive (<a href="https://github.com/r-lib/pak/issues/425" class="external-link uri">https://github.com/r-lib/pak/issues/425</a>).</p></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.0.2" id="pkgcache-202">pkgcache 2.0.2<a class="anchor" aria-label="anchor" href="#pkgcache-202"></a></h2><p class="text-muted">CRAN release: 2022-09-08</p>
<ul><li><p>pkgcache error messages are better now.</p></li>
<li><p>pkgcache now does not compress the metadata cache files, which makes loading the metadata cache faster.</p></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.0.1" id="pkgcache-201">pkgcache 2.0.1<a class="anchor" aria-label="anchor" href="#pkgcache-201"></a></h2><p class="text-muted">CRAN release: 2022-02-18</p>
<p>No user visible changes.</p>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.0.0" id="pkgcache-200">pkgcache 2.0.0<a class="anchor" aria-label="anchor" href="#pkgcache-200"></a></h2><p class="text-muted">CRAN release: 2022-02-16</p>
<div class="section level3">
<h3 id="breaking-change-2-0-0">BREAKING CHANGE<a class="anchor" aria-label="anchor" href="#breaking-change-2-0-0"></a></h3>
<ul><li>
<p>Starting from version 2.0.0 pkgcache returns data frames instead of tibbles. While data frames and tibbles are very similar, they are not completely compatible. To convert the output of pkgcache to tibbles call the <code>as_tibble()</code> function on them.</p>
<p>pkgcache loads the pillar package at startup, if available, and uses it to improve the printing of pkgcache data frames.</p>
</li>
</ul></div>
<div class="section level3">
<h3 id="other-changes-2-0-0">OTHER CHANGES<a class="anchor" aria-label="anchor" href="#other-changes-2-0-0"></a></h3>
<ul><li><p><code><a href="../reference/parse_packages.html">parse_packages()</a></code> now automatically determines the type of the <code>PACKAGES*</code> file, instead of relying on file extensions.</p></li>
<li><p>pkgcache can now call back again to a <code>PACKAGES</code> file if <code>PACKAGES.gz</code> is not available. (This fixes a regression in pkgcache 1.3.0.)</p></li>
<li><p>pkgcache now uses HTTP 1.1 on Linux as well, because of crashes with HTTP/2.</p></li>
<li><p>pkgcache now supports <code>file:///</code>, repositories, i.e. repositories on the local file system.</p></li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.3.0" id="pkgcache-130">pkgcache 1.3.0<a class="anchor" aria-label="anchor" href="#pkgcache-130"></a></h2><p class="text-muted">CRAN release: 2021-11-29</p>
<ul><li><p>pkgcache now works better on M1 macs.</p></li>
<li><p><code><a href="../reference/current_r_platform.html">current_r_platform()</a></code> does a much better job now. In particular, on Linux it includes the name and release of the distribution. The new <code><a href="../reference/current_r_platform.html">current_r_platform_data()</a></code> function returns the platform information as a data frame, instead of a single string.</p></li>
<li><p>Metadata is now more accurate for Windows packages that are typically not multi-arch any more on R 4.2.0 (current R-devel).</p></li>
<li><p>pkgcache has its own DCF metadata parser now, which is much faster, and it parses all fields of <code>PACAKGES*</code> and <code>DESCRIPTION</code> files.</p></li>
<li><p>New <code><a href="../reference/parse_installed.html">parse_installed()</a></code> function to get the metadata of all installed packages in a library. It uses the new DCF parser, so it is quite fast.</p></li>
<li><p><code><a href="../reference/meta_cache_deps.html">meta_cache_list()</a></code> and related functions now correctly set the <code>rversion</code> column of source R packages to <code>"*"</code>.</p></li>
<li><p>pkgcache now uses HTTP 1.1 on macOS, to work around a possible slowdown issue with libcurl for HTTP/2.</p></li>
<li><p>pkgcache now uses our extra metadata (file sizes, system requirements, etc.) for RStudio Package Manager (RSPM) repositories as well, as long as they are named <code>RSPM</code> in <code>getOption("repos")</code>.</p></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.2.2" id="pkgcache-122">pkgcache 1.2.2<a class="anchor" aria-label="anchor" href="#pkgcache-122"></a></h2><p class="text-muted">CRAN release: 2021-05-19</p>
<ul><li>The default location of the cache has changed to align with the standard <code><a href="https://rdrr.io/r/tools/userdir.html" class="external-link">tools::R_user_dir()</a></code> cache location. To clean up your old cache call <code>pkgcache:::cleanup_old_cache_dir()</code>.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.2.1" id="pkgcache-121">pkgcache 1.2.1<a class="anchor" aria-label="anchor" href="#pkgcache-121"></a></h2><p class="text-muted">CRAN release: 2021-04-14</p>
<p>No user visible changes.</p>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.2.0" id="pkgcache-120">pkgcache 1.2.0<a class="anchor" aria-label="anchor" href="#pkgcache-120"></a></h2><p class="text-muted">CRAN release: 2021-03-01</p>
<ul><li><p>New <code><a href="../reference/repo_get.html">repo_add()</a></code>, <code><a href="../reference/repo_get.html">repo_get()</a></code>, <code><a href="../reference/repo_get.html">repo_resolve()</a></code> and <code><a href="../reference/repo_get.html">with_repo()</a></code> functions to query and manipulate repositories.</p></li>
<li><p><code>meta_cache_*()</code> functions now handle <code>getOption("repos")</code> changes correctly.</p></li>
<li><p>Failed metadata downloads now do not trigger metadata updates (<a href="https://github.com/r-lib/pkgcache/issues/52" class="external-link">#52</a>).</p></li>
<li><p>New <code><a href="../reference/bioc_version.html">bioc_release_version()</a></code>, <code><a href="../reference/bioc_version.html">bioc_devel_version()</a></code>, <code><a href="../reference/bioc_version.html">bioc_repos()</a></code> helper functions to deal with Bioconductor repositories.</p></li>
<li><p>Metadata cache functions, e.g. <code><a href="../reference/meta_cache_deps.html">meta_cache_deps()</a></code> etc. now allow specifying the dependency types in all lowercase (<a href="https://github.com/r-lib/pkgcache/issues/54" class="external-link">#54</a>).</p></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.1.1" id="pkgcache-111">pkgcache 1.1.1<a class="anchor" aria-label="anchor" href="#pkgcache-111"></a></h2><p class="text-muted">CRAN release: 2020-10-11</p>
<ul><li><p><code>package_cache</code> now does not fail if the web server does not send an <code>Etag</code> header when downloading packages.</p></li>
<li><p><code>package_cache</code> has now much relaxed HTTP timeouts, and handles downloading many packages (slowly) much better.</p></li>
<li><p>The package download progress bar can now be suppressed by setting the <code>pkg.show_progress</code> option to <code>FALSE</code>.</p></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.1.0" id="pkgcache-110">pkgcache 1.1.0<a class="anchor" aria-label="anchor" href="#pkgcache-110"></a></h2><p class="text-muted">CRAN release: 2020-07-07</p>
<ul><li><p>New <code><a href="../reference/repo_status.html">repo_status()</a></code> function to query the status and response time of CRAN-like repositories.</p></li>
<li><p>New <code><a href="../reference/bioc_version.html">bioc_version()</a></code> and <code><a href="../reference/bioc_version.html">bioc_version_map()</a></code> functions to query Bioconductor repositories.</p></li>
<li><p>pkgcache now does not fail if some repositories do not provide some package types.</p></li>
<li><p>New <code><a href="../reference/current_r_platform.html">current_r_platform()</a></code>, <code><a href="../reference/default_cran_mirror.html">default_cran_mirror()</a></code> and <code><a href="../reference/current_r_platform.html">default_platforms()</a></code> functions.</p></li>
<li><p>pkgcache now works for R 4.0.x macOS binaries.</p></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.7" id="pkgcache-107">pkgcache 1.0.7<a class="anchor" aria-label="anchor" href="#pkgcache-107"></a></h2><p class="text-muted">CRAN release: 2020-04-18</p>
<ul><li>Metadata is now cached in RDS version 2 formats, so metadata written by newer R version can be used by older R versions as well (<a href="https://github.com/r-lib/pkgcache/issues/36" class="external-link">#36</a>).</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.6" id="pkgcache-106">pkgcache 1.0.6<a class="anchor" aria-label="anchor" href="#pkgcache-106"></a></h2><p class="text-muted">CRAN release: 2020-01-30</p>
<ul><li><p>HTTP timeouts are now much better, and by default they are defined in terms of download speed, instead of total download time (<a href="https://github.com/r-lib/pkgcache/issues/29" class="external-link">#29</a>).</p></li>
<li><p>pkgcache now tries to download metadata from the <code>PACKAGES</code> file, if it cannot find <code>PACKAGES.gz</code> (<a href="https://github.com/timmsm" class="external-link">@timmsm</a>, <a href="https://github.com/r-lib/pkgcache/issues/27" class="external-link">#27</a>).</p></li>
<li><p>pkgcache is now less verbose when updating or loading metadata.</p></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.5" id="pkgcache-105">pkgcache 1.0.5<a class="anchor" aria-label="anchor" href="#pkgcache-105"></a></h2><p class="text-muted">CRAN release: 2019-05-31</p>
<ul><li>Fix a bug in the download functions, that broke pak downloads.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.4" id="pkgcache-104">pkgcache 1.0.4<a class="anchor" aria-label="anchor" href="#pkgcache-104"></a></h2><p class="text-muted">CRAN release: 2019-05-13</p>
<ul><li><p>Fix handling of Bioconductor versions and repositories, see README for the details.</p></li>
<li><p>Now different versions of pkgcache, that potentially have different metadata format, can share the same metadata cache directory.</p></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.3" id="pkgcache-103">pkgcache 1.0.3<a class="anchor" aria-label="anchor" href="#pkgcache-103"></a></h2><p class="text-muted">CRAN release: 2019-01-11</p>
<ul><li><p>Fix concurrency issues when the async API is used multiple times in the same event loop.</p></li>
<li><p>Make package compatible with tibble &gt;= 2.0.0.</p></li>
<li><p>Add <code><a href="../reference/meta_cache_deps.html">meta_cache_summary()</a></code> and a <code><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary()</a></code> method for <code>cranlike_metadata_cache</code>. Return information about a metadata cache instance.</p></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.2" id="pkgcache-102">pkgcache 1.0.2<a class="anchor" aria-label="anchor" href="#pkgcache-102"></a></h2><p class="text-muted">CRAN release: 2018-12-31</p>
<ul><li>First public release</li>
</ul></div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


   </div>
  <footer><div class="container">
  <div class="pkgdown-footer-left">
  <p>Developed by <a href="https://github.com/gaborcsardi" class="external-link">Gábor Csárdi</a>, <a href="https://www.posit.co" class="external-link"><img src="https://www.tidyverse.org/posit-logo.svg" alt="Posit" height="16" width="62" style="margin-bottom: 3px;"></a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

  </div></footer></body></html>

